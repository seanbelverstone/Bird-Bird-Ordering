(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,a){},217:function(e,t,a){e.exports=a.p+"static/media/dozenbiscuitsflip.8403d307.jpg"},221:function(e,t,a){e.exports=a(458)},226:function(e,t,a){},458:function(e,t,a){"use strict";a.r(t);var n,l,r,i,o=a(1),c=a.n(o),s=a(26),u=a.n(s),m=(a(226),a(218)),d=a(52),h=a(60),p=a(212),b=a(47),E=a(48),v=a(50),f=a(49),g=a(51),y=a(213),O=a(29),j=a(181),w=a(182),k=a(194),S=a(196),C=a(195),T=a(41),F=a(216),I=a.n(F),x=a(147),D=a(104),N=a(103),P=(a(413),a(139),function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).state={startDate:new Date},a.handleChange=function(e){a.setState({startDate:e})},a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return c.a.createElement(I.a,{id:"datePicker",selected:this.state.startDate,onChange:this.handleChange,minDate:Object(x.default)(new Date,-2),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"Time",minTime:Object(D.default)(Object(N.default)(new Date,0),7),maxTime:Object(D.default)(Object(N.default)(new Date,0),14)})}}]),t}(c.a.Component)),A=a(220),$=a(64),M=a(211),q=a(191),L=a(192),_=a(193),z=a(78),B=a.n(z),Y=a(151),R=function(e){var t=Object(h.useStripe)(),a=Object(h.useElements)(),n=function(){var e=Object(Y.a)(B.a.mark(function e(n){var r;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t.createPaymentMethod({type:"card",card:a.getElement(h.CardElement),billing_details:{name:"Jenny Rosen"}});case 3:r=e.sent,l(r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(Y.a)(B.a.mark(function e(t){var a,n;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.error){e.next=3;break}e.next=10;break;case 3:return e.next=5,fetch("/pay",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_method_id:t.paymentMethod.id})});case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,r(n);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r=function(e){e.error};return c.a.createElement("form",{onSubmit:n},c.a.createElement(h.CardElement,{onChange:function(e){e.error}}),c.a.createElement("button",{type:"submit",disabled:!t},"Submit Payment"))},W=function(e){return c.a.createElement(T.AvForm,{onSubmit:e.handleSubmit},c.a.createElement(T.AvField,{name:"nameCustomMessage",label:"Name",type:"text",validate:{required:{value:!0,errorMessage:"Please enter a name"},pattern:{value:/^[a-zA-Z ]+$/,errorMessage:"Your name must be composed only with letter and numbers"},minLength:{value:4,errorMessage:"Your name must be between 4 and 32 characters"},maxLength:{value:32,errorMessage:"Your name must be between 4 and 32 characters"}}}),c.a.createElement(T.AvField,{name:"telephoneProp",label:"Phone",type:"text",validate:{tel:!0,required:{value:!0,errorMessage:"Please enter a phone number"}}}),c.a.createElement(T.AvField,{name:"email",label:"Email",type:"text",validate:{email:!0,required:{value:!0,errorMessage:"Please enter an email address."}}}),c.a.createElement(T.AvField,{name:"confirmationEmail",label:"Confirm email",type:"email",validate:{match:{value:"email",errorMessage:"Email does not match"},required:{value:!0,errorMessage:"Please re-enter your email."}}}),c.a.createElement(R,{total:e.total}),c.a.createElement($.a,{color:"primary"},"Submit"))},J=function(e){var t=e.buttonLabel,a=e.className,n=Object(o.useState)(!1),l=Object(A.a)(n,2),r=l[0],i=l[1],s=function(){!isNaN(e.tipValidation)||e.handleSubmit?i(!r):i(r)};return c.a.createElement("div",null,c.a.createElement($.a,{type:"submit",onClick:s},t,"NEXT"),c.a.createElement(M.a,{isOpen:r,toggle:s,className:a},c.a.createElement(q.a,{toggle:s},"Contact & Payment"),c.a.createElement(L.a,null,"Your subtotal is $",e.total,c.a.createElement(W,{handleSubmit:e.handleSubmit,toggleClose:s,total:e.total}),c.a.createElement("br",null)),c.a.createElement(_.a,null)))},U=30,H=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(y.a)({},n,l))},a.handleTotals=function(){U=30*parseInt(a.state.quantity),n=(.15*U).toFixed(2),l=(.18*U).toFixed(2),r=(.2*U).toFixed(2)},a.addTip=function(e){switch(e.preventDefault(),e.target.value){case"0.15":a.setState({buttonTip:"0.15",tipInDollars:n});break;case"0.18":a.setState({buttonTip:"0.18",tipInDollars:l});break;case"0.2":a.setState({buttonTip:"0.2",tipInDollars:r});break;default:console.log("no tip selected")}},a.handleForm=function(e){e.preventDefault(),a.state.hidden?a.showForm():a.hideForm()},a.showForm=function(){a.setState({hiddenForm:{display:"block"},hidden:!1})},a.hideForm=function(){a.setState({hiddenForm:{display:"none"},hidden:!0})},a.handleSubtotal=function(){return i=(U+parseFloat(a.state.tipInDollars)).toFixed(2),isNaN(i)&&(i=U),i},a.state={quantity:1,hiddenForm:{display:"none"},hidden:!0,selectedOption:"dollars",selectedIcon:"$",tipInDollars:"",buttonTip:"",values:[],validated:!0},a.handleChange=a.handleChange.bind(Object(O.a)(Object(O.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(O.a)(Object(O.a)(a))),a.addTip=a.addTip.bind(Object(O.a)(Object(O.a)(a))),a.changeIcon=a.changeIcon.bind(Object(O.a)(Object(O.a)(a))),a}return Object(g.a)(t,e),Object(E.a)(t,[{key:"changeIcon",value:function(e){this.setState({selectedOption:e.target.value})}},{key:"handleSubmit",value:function(e,t){this.setState({values:t}),console.log(t),this.state.values.length>0?(console.log("errors"),this.setState({validated:!1})):(console.log("please continue"),this.setState({validated:!0}))}},{key:"render",value:function(){return c.a.createElement(T.AvForm,{onSubmit:this.handleSubmit,id:"orderForm"},c.a.createElement(j.a,{form:!0},c.a.createElement(w.a,null,c.a.createElement(k.a,{style:{width:"150px"}},c.a.createElement(S.a,{for:"quantity"},"Quantity"),c.a.createElement(C.a,{type:"select",name:"quantity",id:"quantity",value:this.state.quantity,onChange:this.handleChange,onClick:this.handleTotals()},c.a.createElement("option",{value:"1"},"1 dozen"),c.a.createElement("option",{value:"2"},"2 dozens"),c.a.createElement("option",{value:"3"},"3 dozens"),c.a.createElement("option",{value:"4"},"4 dozens")))),c.a.createElement(w.a,null,c.a.createElement(S.a,{for:"price"},"Price"),c.a.createElement("div",{id:"price",name:"price"},"$30.00")),c.a.createElement(w.a,null,c.a.createElement(S.a,{for:"totalPrice"},"Total"),c.a.createElement("div",{id:"totalPrice",name:"totalPrice"},"$",U))),c.a.createElement(j.a,null,c.a.createElement(w.a,null,c.a.createElement("div",null,"Add a tip"))),c.a.createElement(j.a,null,c.a.createElement(w.a,null,c.a.createElement("button",{onClick:this.addTip,value:.15},"15%",c.a.createElement("br",null),"$",n),c.a.createElement("button",{onClick:this.addTip,value:.18},"18%",c.a.createElement("br",null),"$",l),c.a.createElement("button",{onClick:this.addTip,value:.2},"20%",c.a.createElement("br",null),"$",r),c.a.createElement("button",{onClick:this.handleForm},"Custom Amount"),c.a.createElement("div",{id:"hiddenForm",style:this.state.hiddenForm},c.a.createElement(k.a,{check:!0},c.a.createElement(S.a,{check:!0},c.a.createElement(C.a,{type:"radio",name:"radio2",value:"dollars",onChange:this.changeIcon,checked:"dollars"===this.state.selectedOption})," ","$")),c.a.createElement(k.a,{check:!0},c.a.createElement(S.a,{check:!0},c.a.createElement(C.a,{type:"radio",name:"radio2",value:"percentage",onChange:this.changeIcon,checked:"percentage"===this.state.selectedOption})," ","%")),c.a.createElement(S.a,{for:"tipInDollars",sm:2},"Enter your custom amount below"),c.a.createElement(T.AvField,{type:"text",name:"tipInDollars",id:"tipInDollars",min:"0.01",step:"0.01",validate:{pattern:{value:/^\$?[0-9]+\.?[0-9]?[0-9]?$/}},onChange:this.handleChange,value:this.state.tipInDollars})))),c.a.createElement(j.a,null,c.a.createElement("div",null,"Select a pick-up date & time")),c.a.createElement(j.a,null,c.a.createElement(P,null)),c.a.createElement(j.a,null,c.a.createElement(k.a,null,c.a.createElement(S.a,{for:"specialInstructions"},"Would you like to include any special instructions?"),c.a.createElement(C.a,{type:"textarea",name:"text",id:"specialInstructions"}))),c.a.createElement(j.a,null,c.a.createElement(k.a,null,c.a.createElement(J,{tipValidation:this.state.tipInDollars,total:i,values:this.state.values,handleSubmit:this.handleSubmit})),c.a.createElement("div",{id:"subtotal"},"Subtotal: $",this.handleSubtotal())))}}]),t}(c.a.Component),V=a(217),Z=a.n(V),K=function(e){function t(){return Object(b.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("button",{id:"employeeButton",onClick:this.show},"Employee Login"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("h1",{id:"pageTitle"},"BISCUITS BY THE DOZEN"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("img",{id:"biscuits",src:Z.a,alt:"a dozen biscuits"}))),c.a.createElement("div",{className:"row"},c.a.createElement(H,null)))}}]),t}(o.Component),Q=function(e){function t(){return Object(b.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,"This is the login page")}}]),t}(o.Component),X=function(){var e=Object(p.a)(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_STRIPE_KEY);return c.a.createElement(h.Elements,{stripe:e},c.a.createElement(m.a,null,c.a.createElement("div",null,c.a.createElement(d.c,null,c.a.createElement(d.a,{exact:!0,path:"/"},c.a.createElement(K,null)),c.a.createElement(d.a,{path:"/login"},c.a.createElement(Q,null))))))},G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ee(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(457);u.a.render(c.a.createElement(X,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");G?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ee(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):ee(e)})}}()}},[[221,1,2]]]);
//# sourceMappingURL=main.c2bc3f33.chunk.js.map